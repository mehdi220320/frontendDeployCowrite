<div class="modern-dashboard">
  <!-- Dashboard Header -->
  <div class="page-header">
    <h1><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h1>
    <div class="breadcrumb">
      <span>Home</span> / <span>Dashboard</span>
    </div>
  </div>

  <!-- Stats Cards Row -->
  <div class="stats-row">
    <div class="stat-card bg-primary">
      <div class="card-icon">
        <i class="fas fa-users"></i>
      </div>
      <div class="card-content">
        <h3>{{users.length}}</h3>
        <p>Total Users</p>
        <span class="stat-change positive">
          <i class="fas fa-arrow-up"></i> {{getActiveUserPercentage()}}% active
        </span>
      </div>
    </div>

    <div class="stat-card bg-success">
      <div class="card-icon">
        <i class="fas fa-book"></i>
      </div>
      <div class="card-content">
        <h3>{{books.length}}</h3>
        <p>Total Books</p>
        <span class="stat-change positive">
          {{getBookCompletionPercentage()}}% completed
        </span>
      </div>
    </div>

    <div class="stat-card bg-warning">
      <div class="card-icon">
        <i class="fas fa-users"></i>
      </div>
      <div class="card-content">
        <h3>{{rooms.length}}</h3>
        <p>Active Rooms</p>
        <span class="stat-change positive">
          {{getAvgRoomMembers()}} avg members
        </span>
      </div>
    </div>

    <div class="stat-card bg-danger">
      <div class="card-icon">
        <i class="fas fa-chart-line"></i>
      </div>
      <div class="card-content">
        <h3>{{books.length + rooms.length}}</h3>
        <p>Total Content</p>
        <span class="stat-change positive">
          {{users.length}} creators
        </span>
      </div>
    </div>
  </div>

  <!-- Main Content Row -->
  <div class="content-row">
    <!-- Recent Books Card -->
    <div class="content-card">
      <div class="card-header">
        <h3><i class="fas fa-book"></i> Book Types</h3>
      </div>
      <div class="card-body">
        <div class="chart-container">
          <canvas id="monthlyChart" height="250"></canvas>
        </div>
      </div>
    </div>

    <!-- Rooms Card -->
    <div class="content-card">
      <div class="card-header">
        <h3><i class="fas fa-users"></i> Room Visibility</h3>
      </div>
      <div class="card-body">
        <div *ngIf="rooms.length >= 0; else noRooms">
          <div class="visibility-stats">
            <div *ngFor="let vis of getRoomVisibilityStats()" class="visibility-item">
              <span class="visibility-type">{{vis.type}}</span>
              <span class="visibility-count">{{vis.count}} ({{vis.percentage}}%)</span>
            </div>
          </div>
        </div>
        <ng-template #noRooms>
          <div class="no-data">No rooms available</div>
        </ng-template>
      </div>
    </div>
  </div>
</div>
